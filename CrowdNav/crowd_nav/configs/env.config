[env]
# —— 通用仿真参数 ——
time_limit = 100
time_step = 0.25
val_size = 100
test_size = 300
randomize_attributes = true

[reward]
; 终局项 - 大幅增加碰撞惩罚,降低成功奖励,强制安全优先
success_reward = 10.0 #0.5+0.4+0.1=1
collision_penalty = -25.0
timeout_penalty = 0.0 

; 近距不适（平方惩罚）- 扩大不适区域,增强惩罚
discomfort_dist = 0.35
discomfort_penalty_factor = 10.0

; —— 核心 shaping：大幅强化安全,削弱进度 ——
w_prog  = 0.8
w_goal  = 3.0
w_coll  = 12.0
w_soc   = 5.0
soc_dist= 1.0
alpha   = 15.0
v_safe  = 0.3
w_relv  = 2.5
w_time  = 0.01
w_shape = 0.0
w_align = 0.0
max_dist= 10.0

; 预判类（TTC）- 更早介入,更强惩罚
w_ttc = 6.0
ttc_thresh = 4.0

; 速度整形（相对 v_pref 的二次偏差）- 鼓励适度减速
w_speed = 0.25
speed_target = 0.4

; 早停：防原地磨
noprog_eps = 0.015
noprog_patience = 24

[sim]
train_val_sim = circle_crossing
test_sim = circle_crossing
square_width = 10
circle_radius = 4
human_num = 5

[humans]
visible = true
policy = orca
radius = 0.3
v_pref = 1
sensor = coordinates

[robot]
visible = false
policy = none
radius = 0.3
v_pref = 1
sensor = coordinates

[orca]
; —— 更保守、更稳定的 ORCA 专家设定（不可见机器人场景友好）——
neighbor_dist = 3.0
max_neighbors = 8
time_horizon = 4.0
time_horizon_obst = 3.0
radius = 0.3
max_speed = 1.2
safety_space = 0.05
label_inflate = 0.10
slow_k = 2.0
eps_noise = 0.03

; —— TTC 前馈制动（与 orca.py 改动匹配）——
ttc_brake = 2.0
brake_min_ratio = 0.3

; —— 行人首选速度模式（consistent with CrowdNav）
human_pref_mode = goal

[action_space]
kinematics = holonomic
speed_samples = 5
rotation_samples = 16
sampling = exponential
query_env = true
time_step = 0.25
